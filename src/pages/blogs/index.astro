---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";
import getSortedPosts from "@/utils/getSortedBlogs";

const blogs = await getCollection("blogs");
const sortedBlogs = getSortedPosts(blogs);
---

<Layout title="Welcome to Astro.">
  {
    sortedBlogs.map((blog) => (
      <div>
        <a href={`/blogs/${blog.slug}`}>
          <h2>{blog.data.title}</h2>
        </a>
        <p>{blog.data.description}</p>
      </div>
    ))
  }
</Layout>
